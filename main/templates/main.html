{% extends 'base.html' %}
{% block content %}
<div style="background:#181f2a; min-height:100vh; padding:40px 0;">
    <div style="max-width:900px; margin:0 auto;">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:32px;">
            <h1 style="color:#90caf9; font-size:2em; margin:0;">Cihuy United</h1>
            <a href="{% url 'main:create_product' %}">
                <button style="background:#1976d2; color:#fff; border:none; padding:10px 22px; border-radius:6px; font-weight:600; font-size:1em; cursor:pointer;">+ Add Product</button>
            </a>
            <a href="{% url 'main:logout' %}">
            <button>Logout</button>
            </a>
            <h5>Sesi terakhir login: {{ last_login }}</h5>
            <a href="?filter=all">
                <button type="button">All Products</button>
            </a>
            <a href="?filter=my">
                <button type="button">My Products</button>
            </a>
        </div>
        <div style="background:#232b3e; border-radius:12px; padding:32px 28px; box-shadow:0 4px 18px rgba(0,0,0,0.18);">
            <div style="margin-bottom:24px;">
                <span style="color:#b0bec5;">Nama Aplikasi:</span>
                <span style="color:#fff; font-weight:500;">{{ nama_aplikasi }}</span>
                <span style="margin-left:24px; color:#b0bec5;">NPM:</span>
                <span style="color:#fff; font-weight:500;">{{ npm }}</span>
                <span style="margin-left:24px; color:#b0bec5;">Name:</span>
                <span style="color:#fff; font-weight:500;">{{ name }}</span>
                <span style="margin-left:24px; color:#b0bec5;">Class:</span>
                <span style="color:#fff; font-weight:500;">{{ class }}</span>
            </div>
            <hr style="border-top:1px solid #374151; margin:24px 0;">
            <h2 style="color:#90caf9; margin-bottom:18px;">Products</h2>
            <div style="display:flex; flex-wrap:wrap; gap:24px;">
                {% for product in products %}
                <div style="background:#1a2233; border-radius:10px; padding:18px 16px; width:260px; box-shadow:0 2px 8px rgba(0,0,0,0.10);">
                    {% if product.thumbnail %}
                        <img src="{{ product.thumbnail }}" alt="thumbnail" style="width:100%; height:120px; object-fit:cover; border-radius:8px; margin-bottom:12px;">
                    {% else %}
                        <div style="width:100%; height:120px; background:#263245; border-radius:8px; display:flex; align-items:center; justify-content:center; color:#789; font-size:1em; margin-bottom:12px;">
                            No Image
                        </div>
                    {% endif %}
                    <a href="{% url 'main:show_product' product.id %}" style="text-decoration:none;">
                        <h3 style="color:#fff; margin:0 0 8px 0;">{{ product.name }}</h3>
                    </a>
                    <div style="color:#90caf9; font-weight:600; font-size:1.1em;">Rp {{ product.price|floatformat:0 }}</div>
                    <div style="color:#b0bec5; font-size:0.95em;">Stock: {{ product.stock }}</div>
                    <div style="margin-top:8px;">
                        <span style="background:#374151; color:#90caf9; padding:2px 10px; border-radius:8px; font-size:0.9em;">{{ product.category }}</span>
                        {% if product.is_featured %}
                            <span style="background:#ffe082; color:#d17b00; padding:2px 10px; border-radius:8px; font-size:0.9em; margin-left:6px;">★ Featured!</span>
                        {% endif %}
                    </div>
                </div>
                {% empty %}
                <div style="color:#b0bec5;">No products available.</div>
                {% endfor %}
            </div>
        </div>
        <p style="color:#789; text-align:center; margin-top:32px;">© 2025 Cihuy United</p>
    </div>
</div>
{% endblock content %}